const expect = require('chai').expect
const Buffer = require('buffer').Buffer
const shiftLeft = require('../lib/shiftLeft')

const ZERO = Buffer.from([0])
const ONE = Buffer.from([1])
const BIG_NUM_1 = Buffer.from([0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x15])
const BIG_NUM_2 = Buffer.from([0x7A, 0xCB, 0x5C, 0x38, 0xAC, 0x6D, 0xAE, 0xAA])

it('shiftLeft', function () {
  expect(shiftLeft(ZERO, 5)).to.deep.equal(ZERO)
  expect(shiftLeft(ONE, 3)).to.deep.equal(Buffer.from([0x08]))
  expect(shiftLeft(BIG_NUM_1, 0)).to.deep.equal(BIG_NUM_1)
  expect(shiftLeft(BIG_NUM_1, 5)).to.deep.equal(Buffer.from([0xE0, 0xEF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xBF, 0x02]))
  expect(shiftLeft(BIG_NUM_1, 11)).to.deep.equal(Buffer.from([0x00, 0xF8, 0xFB, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xAF]))
  expect(shiftLeft(BIG_NUM_2, 31)).to.deep.equal(Buffer.from([0x00, 0x00, 0x00, 0x00, 0xBD, 0x65, 0x2E, 0x1C, 0xD6, 0x36, 0x57, 0x55]))
  expect(shiftLeft(BIG_NUM_1, -11)).to.deep.equal(Buffer.from([0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xBF, 0x02]))
})
